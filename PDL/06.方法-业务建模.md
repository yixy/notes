# 方法-业务建模思维

> 以DDD-Domain-Driven Design为例。

任何软件解决的问题，都可以划分为若干领域的结合；每个领域都能抽象为一个有限界上下文的内聚模块。以这种领域设计为根本的思路去设计软件，就是DDD。

## 1 收集需求

```
as a role 
i want a goal
so that benefit
```

采用5w2h1e2p提问方式进行需求分解：

* why：为了什么目的
* what：要做什么事情
* who：谁与此相关
* when：什么时候
* where：在什么方向做
* how：怎么做
* how much：成本
* exception：例外情况
* pre-condition：前置条件
* post-condition：完成后效果（与why对应）

## 2 分析领域

* 识别领域概念和实体：在理解业务领域的基础上，识别出其中的关键概念和实体。这些可以是客户、订单、产品、交易等业务上的重要对象。

* 识别领域的边界：确定领域模型的边界，即确定哪些对象和概念属于当前领域，哪些属于其他领域或外部系统。这有助于避免模糊不清的边界和责任。

## 3 快速收敛领域范围和边界（TODO）

* 有几个类：按领域拆分微服务或实体类，每个类有什么行为
* 类之间是什么关系：类之间的关系。例如，多对多关系怎么处理（增加中间表）。聚合内保证事务一致性，聚合间保证最终一致性。
* 如何实现解耦：dip原则（高层调接口，低层实现接口）